"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[265],{4332:function(n,e,t){t.d(e,{Z:function(){return E}});var r,a,o,i,c,s,l,u,d,f,h,m,g,p,v=t(1087),x=t(7689),Z="MoviesList_moviesList__P6SP5",b="MoviesList_moviesItem__r+0sq",y=t(168),j=t(4313),k=j.ZP.div(r||(r=(0,y.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]))),_=j.ZP.div(a||(a=(0,y.Z)(["\n  overflow: hidden;\n  margin-bottom: 5px;\n"]))),w=j.ZP.img(o||(o=(0,y.Z)(["\n  max-width: 100%;\n  object-fit: cover;\n  transition: transform 0.4s;\n  -webkit-transition: transform 0.4s;\n  -moz-transition: transform 0.4s;\n  -ms-transition: transform 0.4s;\n  -o-transition: transform 0.4s;\n\n  &:hover {\n    transform: scale(1.1);\n    -webkit-transform: scale(1.1);\n    -moz-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    -o-transform: scale(1.1);\n  }\n"]))),P=j.ZP.h3(i||(i=(0,y.Z)(["\n  max-width: 300px;\n  color: var(--color);\n  font-size: 14px;\n  margin-bottom: 0;\n  margin-top: auto;\n"]))),S=j.ZP.div(c||(c=(0,y.Z)(["\n  display: flex;\n  align-items: center;\n"]))),M=j.ZP.span(s||(s=(0,y.Z)(["\n  font-size: 10px;\n  color: gold;\n"]))),L=j.ZP.span(l||(l=(0,y.Z)(["\n  font-size: 10px;\n  color: gray;\n"]))),B=j.ZP.p(u||(u=(0,y.Z)(["\n  color: rgb(36, 35, 35);\n  font-size: 10px;\n"]))),N=j.ZP.span(d||(d=(0,y.Z)(["\n  font-size: 8px;\n"]))),z=j.ZP.p(f||(f=(0,y.Z)(["\n  color: red;\n  font-weight: bold;\n  font-size: 12px;\n  margin-left: auto;\n"]))),A=(0,j.iv)(h||(h=(0,y.Z)(["\n  background: #f85032;\n  background: -webkit-linear-gradient(to right, #e73827, #f85032);\n  background: linear-gradient(to right, #e73827, #f85032);\n"]))),T=(0,j.iv)(m||(m=(0,y.Z)(["\n  background: #f7971e;\n  background: -webkit-linear-gradient(to right, #ffd200, #f7971e);\n  background: linear-gradient(to right, #ffd200, #f7971e);\n  color: rgb(36, 35, 35);\n"]))),I=(0,j.iv)(g||(g=(0,y.Z)(["\n  background: #000000;\n  background: -webkit-linear-gradient(to right, #0f9b0f, #000000);\n  background: linear-gradient(to right, #0f9b0f, #000000);\n  color: #fff;\n"]))),C=j.ZP.div(p||(p=(0,y.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  width: 10px;\n  height: 10px;\n  padding: 5px;\n  font-weight: bold;\n  margin-left: 10px;\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-red\n  &.rating-red {\n    ","\n  }\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-yellow\n  &.rating-yellow {\n    ","\n  }\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-green\n  &.rating-green {\n    ","\n  }\n"])),A,T,I),F=t(184);var q=function(n){var e=n.poster_path,t=n.title,r=n.vote_average,a=n.release_date,o=10*r,i=Math.floor(o/10),c=Array.from({length:10},(function(n,e){return e<i?(0,F.jsx)(M,{children:"\u2605"},"star-".concat(e)):(0,F.jsx)(L,{children:"\u2605"},"star-".concat(e))})),s=function(n){return n<=4?"red":n<7?"yellow":"green"}(r),l="rating-".concat(s);return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(k,{children:[(0,F.jsx)(_,{children:(0,F.jsx)(w,{src:e?"https://image.tmdb.org/t/p/w500/".concat(e):"https://via.placeholder.com/300x400",alt:t,width:300})}),(0,F.jsx)(P,{children:t||"Movie without a title"}),(0,F.jsxs)(S,{children:[(0,F.jsx)(B,{children:r?c:"N/A"}),(0,F.jsx)(C,{className:l,children:(0,F.jsx)(N,{children:r?r.toFixed(1):"N/A"})}),(0,F.jsx)(z,{children:a?a.slice(0,4):"N/A"})]})]})})};var E=function(n){var e=n.movies,t=(0,x.TH)();return(0,F.jsx)("ul",{className:Z,children:e.map((function(n,e){var r=n.id,a=n.poster_path,o=n.title,i=n.vote_average,c=n.release_date;return(0,F.jsx)("li",{className:b,children:(0,F.jsx)(v.rU,{to:"/movies/".concat(r),state:{from:t},children:(0,F.jsx)(q,{id:r,poster_path:a,title:o,vote_average:i,release_date:c},r)})},"".concat(r,"-").concat(e))}))})}},7265:function(n,e,t){t.r(e),t.d(e,{default:function(){return Q}});var r,a,o,i=t(3433),c=t(9439),s=t(2791),l=t(7689),u={searchbar:"MoviePage_searchbar__Hfnpz"},d=t(9085),f=t(168),h=t(4313),m=h.ZP.form(r||(r=(0,f.Z)(["\n  margin-top: 150px;\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (max-width: 705px) {\n    margin-top: 190px;\n  }\n\n  @media screen and (max-width: 380px) {\n    margin-top: 230px;\n  }\n"]))),g=h.ZP.input(a||(a=(0,f.Z)(["\n  box-sizing: border-box;\n  width: 400px;\n  height: 50px;\n  margin-right: 10px;\n  background-color: transparent;\n  border: 1px solid gray;\n  outline: none;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n  padding: 10px;\n\n  &:focus {\n    border: 1px solid var(--border-color);\n  }\n\n  &::placeholder {\n    color: var(--color);\n    opacity: 0.3;\n  }\n"]))),p=h.ZP.button(o||(o=(0,f.Z)(["\n  width: 100px;\n  height: 50px;\n  background: var(--background-header);\n  border: var(--border-color);\n  color: var(--color);\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background: var(--background-body);\n  }\n"]))),v=t(184);var x,Z,b,y,j,k,_,w=function(n){var e=n.onSubmit,t=(0,s.useState)(""),r=(0,c.Z)(t,2),a=r[0],o=r[1];return(0,v.jsxs)(m,{onSubmit:function(n){n.preventDefault(),a?(e(a),o("")):d.Am.error("Please, enter your name movie!")},children:[(0,v.jsx)(g,{name:"query",value:a,type:"text",autoComplete:"off",placeholder:"Enter the movie name",onChange:function(n){o(n.currentTarget.value.toLowerCase().trim())}}),(0,v.jsx)(p,{children:"Search"})]})},P=t(5700),S=t(4332),M=t(4771),L=t(7367),B={movieBarList:"MoviesBar_movieBarList__OTYcq",movieBarListItem:"MoviesBar_movieBarListItem__e8kT6"},N=t(1087),z=t(5861),A=t(4687),T=t.n(A),I=t(6970),C=t(6355),F=(0,h.ZP)(C.huN)(x||(x=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: var(--color);\n  margin-left: auto;\n  margin-right: auto;\n  animation: rotate 5s infinite linear;\n  -webkit-animation: rotate 5s infinite linear;\n  @keyframes rotate {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),q=h.ZP.div(Z||(Z=(0,f.Z)(["\n  width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),E=h.ZP.div(b||(b=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n"]))),U=h.ZP.label(y||(y=(0,f.Z)(["\n  display: block;\n  margin-bottom: 5px;\n  font-size: 1.1rem;\n  color: var(--color);\n"]))),Y=(0,h.ZP)(I.ZP)(j||(j=(0,f.Z)(["\n  width: 200px;\n"]))),D=h.ZP.p(k||(k=(0,f.Z)(["\n  color: var(--color);\n  max-width: 290px;\n  margin-left: auto;\n  margin-right: auto;\n  font-size: 14px;\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: bold;\n"]))),H=h.ZP.button(_||(_=(0,f.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 200px;\n  height: 50px;\n  border-radius: 5px;\n  background: var(--background-movies-item);\n  margin-left: auto;\n  margin-right: auto;\n  border: none;\n  text-transform: uppercase;\n  color: var(--color);\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    background: var(--background-body);\n  }\n"]))),R=function(n){var e=n.hendleIncrement;return(0,v.jsx)(H,{type:"button",onClick:function(){return e()},children:"Load More"})},O=t(5667);var W=function(){var n=(0,s.useState)(0),e=(0,c.Z)(n,2),t=e[0],r=e[1],a=(0,s.useState)([]),o=(0,c.Z)(a,2),l=o[0],u=o[1],f=(0,s.useState)(null),h=(0,c.Z)(f,2),m=h[0],g=h[1],p=(0,s.useState)(!1),x=(0,c.Z)(p,2),Z=x[0],b=x[1],y=(0,s.useState)(1),j=(0,c.Z)(y,2),k=j[0],_=j[1],w=(0,s.useState)(!1),M=(0,c.Z)(w,2),B=M[0],N=M[1];if((0,s.useEffect)((function(){if(0!==t){var n=function(){var n=(0,z.Z)(T().mark((function n(){var e;return T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return b(!0),n.prev=1,n.next=4,L.Z.fetchByYear(k,t);case 4:0===(e=n.sent).length?(N(!1),1===k?(u([]),d.Am.error("Sorry, we couldn't find any movies for that year.")):d.Am.error("That's all the movies we could find for that year.")):(N(!0),u((function(n){return[].concat((0,i.Z)(n),(0,i.Z)(e))}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),g(n.t0);case 11:return n.prev=11,b(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})));return function(){return n.apply(this,arguments)}}();n()}}),[k,t]),m)return(0,v.jsx)("p",{children:m.message});for(var A=[],I=(new Date).getFullYear(),C=I;C>=I-50;C--)A.push(C);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(P.Z,{children:[(0,v.jsx)(q,{children:(0,v.jsxs)(E,{children:[(0,v.jsx)(U,{htmlFor:"year-select",children:"Select a year:"}),(0,v.jsx)(Y,{classNamePrefix:"react-select",name:"year-select",id:"year-select",value:{value:t,label:t},onChange:function(n){return r(n.value)},options:A.map((function(n){return{value:n,label:n}})),placeholder:"Select a year",menuPlacement:"auto"})]})}),l.length>0?(0,v.jsx)(S.Z,{movies:l}):Z?(0,v.jsx)(F,{size:50}):(0,v.jsx)(D,{children:"Please select a year to see movies."}),B&&(0,v.jsx)(R,{hendleIncrement:function(){_(k+1),O.NY.scrollToBottom({duration:2e3,smooth:"easeInOutQuad",offset:.2})}})]})})};var G=function(){var n=(0,l.TH)();return(0,v.jsxs)("div",{className:B.movieBarWrapper,children:[(0,v.jsxs)("ul",{className:B.movieBarList,children:[(0,v.jsx)("li",{className:B.movieBarListItem,children:(0,v.jsx)(N.rU,{to:"/movie/actors/",state:{from:n},children:"Actors"})}),(0,v.jsx)("li",{className:B.movieBarListItem,children:(0,v.jsx)(N.rU,{to:"/movie/top-rated/",state:{from:n},children:"Top Rated"})}),(0,v.jsx)("li",{className:B.movieBarListItem,children:(0,v.jsx)(N.rU,{to:"/movie/expected-movies/",state:{from:n},children:"Expected Movies"})})]}),(0,v.jsx)("div",{children:(0,v.jsx)(W,{})})]})},Q=function(){var n=(0,l.s0)(),e=(0,l.TH)(),t=(0,s.useState)([]),r=(0,c.Z)(t,2),a=r[0],o=r[1],f=(0,s.useState)(""),h=(0,c.Z)(f,2),m=h[0],g=h[1],p=(0,s.useState)(0),x=(0,c.Z)(p,2),Z=x[0],b=x[1],y=(0,s.useState)(!1),j=(0,c.Z)(y,2),k=j[0],_=j[1],B=(0,s.useCallback)((function(n){_(!0),L.Z.fetchSearchMovie(m,n).then((function(e){0===e.length?(d.Am.error("sorry, that's all the movies we could find"),_(!1)):(o((function(n){return[].concat((0,i.Z)(n),(0,i.Z)(e))})),b(n))})).catch((function(n){d.Am.error("Failed to fetch movies.")}))}),[m]);(0,s.useEffect)((function(){g(new URLSearchParams(e.search).get("query")),b(1)}),[e.search]),(0,s.useEffect)((function(){m&&B(1)}),[B,m]);return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(P.Z,{children:[(0,v.jsxs)("section",{className:u.searchbar,children:[(0,v.jsx)(w,{onSubmit:function(e){e!==m&&(o([]),n("?query=".concat(e)))}}),(0,v.jsx)(G,{})]}),(0,v.jsx)("section",{className:u.moviesListSearch,children:a&&(0,v.jsx)(M.Z,{dataLength:a.length,next:function(){B(Z+1)},hasMore:k,loader:(0,v.jsx)("p",{children:"Loading..."}),children:(0,v.jsx)(S.Z,{movies:a})})})]})})}},7367:function(n,e,t){var r=t(1243),a="https://api.themoviedb.org/3/",o="f27eea818d2010463700365b0c06a16e";var i={fetchMoviesbyActors:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.Z.get("".concat(a,"person/").concat(n,"/movie_credits?api_key=").concat(o,"&page=").concat(e)).then((function(n){return n.data.cast}))},fetchActorInfoAndMovies:function(n){return r.Z.get("".concat(a,"person/").concat(n,"?api_key=").concat(o)).then((function(n){return n.data}))},fetchTrending:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.Z.get("".concat(a,"trending/all/day?api_key=").concat(o,"&page=").concat(n)).then((function(n){return n.data.results}))},fetchSearchMovie:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.Z.get("".concat(a,"search/movie?query=").concat(n,"&api_key=").concat(o,"&page=").concat(e)).then((function(n){return n.data.results}))},fetchMovieDetalis:function(n){return r.Z.get("".concat(a,"movie/").concat(n,"?api_key=").concat(o)).then((function(n){return n.data}))},fetchMovieCredits:function(n){return r.Z.get("".concat(a,"movie/").concat(n,"/credits?api_key=").concat(o)).then((function(n){return n.data}))},fetchMovieReview:function(n){return r.Z.get("".concat(a,"movie/").concat(n,"/reviews?api_key=").concat(o)).then((function(n){return n.data.results}))},fetchTrailerMovies:function(n){return r.Z.get("".concat(a,"movie/").concat(n,"/videos?api_key=").concat(o)).then((function(n){return n.data.results}))},fetchAllgenres:function(){return r.Z.get("".concat(a,"/genre/movie/list?api_key=").concat(o)).then((function(n){return n.data.genres}))},fetchByGenre:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.Z.get("".concat(a,"/discover/movie?api_key=").concat(o,"&with_genres=").concat(n,"&page=").concat(e)).then((function(n){return n.data}))},fetchActors:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e?"".concat(a,"search/person?api_key=").concat(o,"&page=").concat(n,"&query=").concat(e):"".concat(a,"person/popular?api_key=").concat(o,"&page=").concat(n);return r.Z.get(t).then((function(n){return n.data}))},fetchByYear:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;return r.Z.get("".concat(a,"discover/movie?api_key=").concat(o,"&sort_by=popularity.desc&page=").concat(n,"&primary_release_year=").concat(e)).then((function(n){return n.data.results}))},fetchExpectedMovies:function(){return r.Z.get("".concat(a,"/movie/upcoming?api_key=").concat(o)).then((function(n){return n.data.results}))},fetchFilmsByRating:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.Z.get("".concat(a,"/movie/top_rated?api_key=").concat(o,"&page=").concat(n)).then((function(n){return n.data}))},fetchWaitingForTheMovies:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.Z.get("".concat(a,"/movie/upcoming?api_key=").concat(o,"&primary_release_date.gte=").concat((new Date).toISOString().slice(0,10),"&page=").concat(n)).then((function(n){return n.data}))}};e.Z=i}}]);
//# sourceMappingURL=265.41948722.chunk.js.map