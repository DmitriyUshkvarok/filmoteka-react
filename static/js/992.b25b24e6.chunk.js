"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[992],{3342:function(e,t,i){i.d(t,{Z:function(){return o}});var a="ButtonBack_btnBack__tjozC",n=i(184),o=function(){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("button",{className:a,type:"button",children:"\u2190 Go Back"})})}},2992:function(e,t,i){i.r(t),i.d(t,{default:function(){return m}});var a=i(3433),n=i(9439),o=i(8014),c={detalis:"MovieDetalis_detalis__UlcmQ",posterMovie:"MovieDetalis_posterMovie__M4a7c",detalisWrapper:"MovieDetalis_detalisWrapper__Ap-mN",columnInfo:"MovieDetalis_columnInfo__KSsuK",btnBackDetalisWrapper:"MovieDetalis_btnBackDetalisWrapper__jOg0F",btnBack:"MovieDetalis_btnBack__knIVC",iconBack:"MovieDetalis_iconBack__4gnQx",infoTitle:"MovieDetalis_infoTitle__V6MOk",scoreDetalis:"MovieDetalis_scoreDetalis__wswZn",overviewTitle:"MovieDetalis_overviewTitle__-X5em",overview:"MovieDetalis_overview__OZ4Y2",ganreListDetails:"MovieDetalis_ganreListDetails__2xy5E",columnImg:"MovieDetalis_columnImg__rXv+c",detalisImg:"MovieDetalis_detalisImg__3LoFp",reviewList:"MovieDetalis_reviewList__5y-3B",cast:"MovieDetalis_cast__cUluE",review:"MovieDetalis_review__gmdkb",videoBackdrop:"MovieDetalis_videoBackdrop__VDDyM",videoModal:"MovieDetalis_videoModal__nUs6R",iconBackModal:"MovieDetalis_iconBackModal__lydSk",addMoviesBtn:"MovieDetalis_addMoviesBtn__ETZC0"},r=i(9085),s=i(5700),l=i(1087),d=i(7689),v=i(2791),u=i(7367),_=i(9831),f=i(9686),h=i(3342),p=i(184);var m=function(){var e,t,i=(0,d.UO)().movieId,m=(0,v.useState)([]),g=(0,n.Z)(m,2),k=g[0],y=g[1],M=(0,v.useState)([]),w=(0,n.Z)(M,2),x=w[0],j=w[1],D=(0,v.useState)(!1),b=(0,n.Z)(D,2),N=b[0],Z=b[1],B=(0,v.useState)(null),I=(0,n.Z)(B,2),S=I[0],T=I[1],L=(0,v.useState)(!1),C=(0,n.Z)(L,2),E=C[0],A=C[1],F=(0,d.TH)(),O=null!==(e=null===(t=F.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/";function U(){A(!1),T(null),document.body.style.overflow="auto"}(0,v.useEffect)((function(){var e=localStorage.getItem("favorites");e&&j(JSON.parse(e))}),[]),(0,v.useEffect)((function(){Z(x.some((function(e){return e.id===k.id})))}),[x,k.id]),(0,v.useEffect)((function(){u.Z.fetchMovieDetalis(i).then((function(e){y(e)})).catch("error")}),[i]),(0,v.useEffect)((function(){return window.addEventListener("keydown",W),function(){window.removeEventListener("keydown",W)}}));var W=function(e){"Escape"===e.code&&U()};return(0,p.jsx)(p.Fragment,{children:k&&(0,p.jsx)("section",{className:c.detalis,children:(0,p.jsxs)(s.Z,{children:[(0,p.jsx)("div",{className:c.btnBackDetalisWrapper,children:(0,p.jsx)(l.rU,{to:O,children:(0,p.jsx)(h.Z,{})})}),(0,p.jsxs)("div",{className:c.detalisWrapper,children:[(0,p.jsx)("img",{className:c.posterMovie,src:k.backdrop_path?"https://image.tmdb.org/t/p/w500/".concat(k.backdrop_path):_,alt:k.title}),(0,p.jsxs)("div",{className:c.columnInfo,children:[(0,p.jsx)("h2",{className:c.infoTitle,children:k.title?k.title:"Movie without a title"}),(0,p.jsxs)("p",{className:c.scoreDetalis,children:["User score: ",(10*k.vote_average).toFixed(0),"%"]}),(0,p.jsx)("h3",{className:c.overviewTitle,children:"Overview"}),(0,p.jsx)("p",{className:c.overview,children:k.overview?k.overview:"Movie without a overview"}),(0,p.jsx)("ul",{className:c.ganreListDetails,children:k.genres&&k.genres.map((function(e){var t=e.name,i=e.id;return(0,p.jsx)("li",{children:t},i)}))}),(0,p.jsxs)("ul",{className:c.reviewList,children:[(0,p.jsx)("li",{className:c.reviewiLstItem,children:(0,p.jsx)(l.rU,{to:"cast",state:F.state,className:c.cast,children:"Cast"})}),(0,p.jsx)("li",{className:c.reviewiLstItem,children:(0,p.jsx)(l.rU,{to:"review",state:F.state,className:c.review,children:"Rewiew"})}),(0,p.jsx)("li",{className:c.reviewiLstItem,children:(0,p.jsx)("button",{type:"button",className:c.addMoviesBtn,onClick:function(){var e={id:k.id,title:k.title,poster_path:k.poster_path,vote_average:k.vote_average.toFixed(1),release_date:k.release_date.slice(0,4)};if(N){var t=x.filter((function(e){return e.id!==k.id}));j(t),localStorage.setItem("favorites",JSON.stringify(t)),Z(!1),r.Am.success("Film removed from the library")}else{var i=[].concat((0,a.Z)(x),[e]);j(i),localStorage.setItem("favorites",JSON.stringify(i)),Z(!0),r.Am.success("Film added to the library")}},children:N?"Remove from library":"Add movie to library"})})]})]}),(0,p.jsxs)("div",{className:c.columnImg,children:[(0,p.jsx)("img",{src:k.poster_path?"https://image.tmdb.org/t/p/w500/".concat(k.poster_path):_,alt:k.title?k.title:"Movie without a title",width:300,className:c.detalisImg,style:{cursor:"pointer"},onClick:function(){u.Z.fetchTrailerMovies(i).then((function(e){var t=e.find((function(e){return"Trailer"===e.type}));t?(T(t.key),A(!0),document.body.style.overflow="hidden"):(A(!1),r.Am.error("No trailer available for this movie."))}))}}),E&&(0,p.jsxs)("div",{className:c.videoBackdrop,onClick:function(e){e.currentTarget===e.target&&U()},children:[(0,p.jsx)(o.lox,{className:c.iconBackModal,onClick:U}),(0,p.jsx)(f.Z,{className:c.videoModal,videoId:S,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0},origin:"http://localhost:3000"}})]})]})]}),(0,p.jsx)(v.Suspense,{children:(0,p.jsx)(d.j3,{})})]})})})}},7367:function(e,t,i){var a=i(1243),n="https://api.themoviedb.org/3/",o="f27eea818d2010463700365b0c06a16e";var c={fetchMoviesbyActors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(n,"person/").concat(e,"/movie_credits?api_key=").concat(o,"&page=").concat(t)).then((function(e){return e.data.cast}))},fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return a.Z.get("".concat(n,"trending/all/day?api_key=").concat(o,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(n,"search/movie?query=").concat(e,"&api_key=").concat(o,"&page=").concat(t)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"?api_key=").concat(o)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"/credits?api_key=").concat(o)).then((function(e){return e.data}))},fetchMovieReview:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"/reviews?api_key=").concat(o)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return a.Z.get("".concat(n,"movie/").concat(e,"/videos?api_key=").concat(o)).then((function(e){return e.data.results}))},fetchAllgenres:function(){return a.Z.get("".concat(n,"/genre/movie/list?api_key=").concat(o)).then((function(e){return e.data.genres}))},fetchByGenre:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return a.Z.get("".concat(n,"/discover/movie?api_key=").concat(o,"&with_genres=").concat(e,"&page=").concat(t)).then((function(e){return e.data}))},fetchActors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=t?"".concat(n,"search/person?api_key=").concat(o,"&page=").concat(e,"&query=").concat(t):"".concat(n,"person/popular?api_key=").concat(o,"&page=").concat(e);return a.Z.get(i).then((function(e){return e.data}))},fetchByYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return a.Z.get("".concat(n,"discover/movie?api_key=").concat(o,"&sort_by=popularity.desc&page=").concat(e,"&primary_release_year=").concat(t)).then((function(e){return e.data.results}))},fetchExpectedMovies:function(){return a.Z.get("".concat(n,"/movie/upcoming?api_key=").concat(o)).then((function(e){return e.data.results}))}};t.Z=c},9831:function(e,t,i){e.exports=i.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=992.b25b24e6.chunk.js.map