"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[617],{4332:function(e,n,t){t.d(n,{Z:function(){return q}});var r,a,c,o,i,s,l,u,h,d,f,m,v,g,p=t(1087),x=t(7689),_="MoviesList_moviesList__P6SP5",Z="MoviesList_moviesItem__r+0sq",b=t(168),y=t(4313),j=y.ZP.div(r||(r=(0,b.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]))),k=y.ZP.div(a||(a=(0,b.Z)(["\n  overflow: hidden;\n  margin-bottom: 5px;\n"]))),w=y.ZP.img(c||(c=(0,b.Z)(["\n  max-width: 100%;\n  object-fit: cover;\n  transition: transform 0.4s;\n  -webkit-transition: transform 0.4s;\n  -moz-transition: transform 0.4s;\n  -ms-transition: transform 0.4s;\n  -o-transition: transform 0.4s;\n\n  &:hover {\n    transform: scale(1.1);\n    -webkit-transform: scale(1.1);\n    -moz-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    -o-transform: scale(1.1);\n  }\n"]))),S=y.ZP.h3(o||(o=(0,b.Z)(["\n  max-width: 300px;\n  color: var(--color);\n  font-size: 14px;\n  margin-bottom: 0;\n  margin-top: auto;\n"]))),N=y.ZP.div(i||(i=(0,b.Z)(["\n  display: flex;\n  align-items: center;\n"]))),L=y.ZP.span(s||(s=(0,b.Z)(["\n  font-size: 10px;\n  color: gold;\n"]))),P=y.ZP.span(l||(l=(0,b.Z)(["\n  font-size: 10px;\n  color: gray;\n"]))),B=y.ZP.p(u||(u=(0,b.Z)(["\n  color: rgb(36, 35, 35);\n  font-size: 10px;\n"]))),M=y.ZP.span(h||(h=(0,b.Z)(["\n  font-size: 8px;\n"]))),T=y.ZP.p(d||(d=(0,b.Z)(["\n  color: red;\n  font-weight: bold;\n  font-size: 12px;\n  margin-left: auto;\n"]))),Y=(0,y.iv)(f||(f=(0,b.Z)(["\n  background: #f85032;\n  background: -webkit-linear-gradient(to right, #e73827, #f85032);\n  background: linear-gradient(to right, #e73827, #f85032);\n"]))),A=(0,y.iv)(m||(m=(0,b.Z)(["\n  background: #f7971e;\n  background: -webkit-linear-gradient(to right, #ffd200, #f7971e);\n  background: linear-gradient(to right, #ffd200, #f7971e);\n  color: rgb(36, 35, 35);\n"]))),z=(0,y.iv)(v||(v=(0,b.Z)(["\n  background: #000000;\n  background: -webkit-linear-gradient(to right, #0f9b0f, #000000);\n  background: linear-gradient(to right, #0f9b0f, #000000);\n  color: #fff;\n"]))),C=y.ZP.div(g||(g=(0,b.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  width: 10px;\n  heigth: 10px;\n  padding: 5px;\n  font-weight: bold;\n  margin-left: 10px;\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-red\n  &.rating-red {\n    ","\n  }\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-yellow\n  &.rating-yellow {\n    ","\n  }\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-green\n  &.rating-green {\n    ","\n  }\n"])),Y,A,z),F=t(184);var I=function(e){var n=e.poster_path,t=e.title,r=e.vote_average,a=e.release_date,c=10*r,o=Math.floor(c/10),i=Array.from({length:10},(function(e,n){return n<o?(0,F.jsx)(L,{children:"\u2605"},"star-".concat(n)):(0,F.jsx)(P,{children:"\u2605"},"star-".concat(n))})),s=function(e){return e<=4?"red":e<7?"yellow":"green"}(r),l="rating-".concat(s);return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(j,{children:[(0,F.jsx)(k,{children:(0,F.jsx)(w,{src:n?"https://image.tmdb.org/t/p/w500/".concat(n):"https://via.placeholder.com/300x400",alt:t,width:300})}),(0,F.jsx)(S,{children:t||"Movie without a title"}),(0,F.jsxs)(N,{children:[(0,F.jsx)(B,{children:r?i:"N/A"}),(0,F.jsx)(C,{className:l,children:(0,F.jsx)(M,{children:r?r.toFixed(1):"N/A"})}),(0,F.jsx)(T,{children:a?a.slice(0,4):"N/A"})]})]})})};var q=function(e){var n=e.movies,t=(0,x.TH)();return(0,F.jsx)("ul",{className:_,children:n.map((function(e,n){var r=e.id,a=e.poster_path,c=e.title,o=e.vote_average,i=e.release_date;return(0,F.jsx)("li",{className:Z,children:(0,F.jsx)(p.rU,{to:"/movies/".concat(r),state:{from:t},children:(0,F.jsx)(I,{id:r,poster_path:a,title:c,vote_average:o,release_date:i},r)})},"".concat(r,"-").concat(n))}))})}},2617:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(3433),a=t(9439),c=t(2791),o=t(7689),i={searchbar:"MoviePage_searchbar__Hfnpz"},s=t(9085),l="Searchbar_form__D-hp5",u="Searchbar_inputSearch__xAbPo",h="Searchbar_serchBtn__JmOW6",d=t(184);var f,m=function(e){var n=e.onSubmit,t=(0,c.useState)(""),r=(0,a.Z)(t,2),o=r[0],i=r[1];return(0,d.jsxs)("form",{className:l,onSubmit:function(e){e.preventDefault(),o?(n(o),i("")):s.Am.error("Please, enter your name movie!")},children:[(0,d.jsx)("input",{className:u,name:"query",value:o,type:"text",autoComplete:"off",placeholder:"Enter the movie name",onChange:function(e){i(e.currentTarget.value.toLowerCase().trim())}}),(0,d.jsx)("button",{type:"submit",className:h,children:"Search"})]})},v=t(5700),g=t(4332),p=t(4771),x=t(7367),_={movieBarList:"MoviesBar_movieBarList__OTYcq",movieBarListItem:"MoviesBar_movieBarListItem__e8kT6"},Z=t(1087),b=t(5861),y=t(4687),j=t.n(y),k={selectedYear:"SearchByYear_selectedYear__3bTgh",selectWrapper:"SearchByYear_selectWrapper__cb+ap",selectLabel:"SearchByYear_selectLabel__tWzcV",searchText:"SearchByYear_searchText__5iNfz",loadingMoviesListYear:"SearchByYear_loadingMoviesListYear__uSiHT"},w=t(168),S=t(4313).ZP.button(f||(f=(0,w.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 200px;\n  height: 50px;\n  border-radius: 5px;\n  background: var(--background-movies-item);\n  margin-left: auto;\n  margin-right: auto;\n  border: none;\n  text-transform: uppercase;\n  color: var(--color);\n  cursor: pointer;\n  transition: var(--transition);\n\n  &:hover {\n    background: var(--background-body);\n  }\n"]))),N=function(e){var n=e.hendleIncrement;return(0,d.jsx)(S,{type:"button",onClick:function(){return n()},children:"Load More"})},L=t(6970);var P=function(){var e=(0,c.useState)(0),n=(0,a.Z)(e,2),t=n[0],o=n[1],i=(0,c.useState)([]),l=(0,a.Z)(i,2),u=l[0],h=l[1],f=(0,c.useState)(null),m=(0,a.Z)(f,2),p=m[0],_=m[1],Z=(0,c.useState)(!1),y=(0,a.Z)(Z,2),w=y[0],S=y[1],P=(0,c.useState)(1),B=(0,a.Z)(P,2),M=B[0],T=B[1],Y=(0,c.useState)(!1),A=(0,a.Z)(Y,2),z=A[0],C=A[1];if((0,c.useEffect)((function(){if(0!==t){var e=function(){var e=(0,b.Z)(j().mark((function e(){var n;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,e.next=4,x.Z.fetchByYear(M,t);case 4:0===(n=e.sent).length?(C(!1),1===M?(h([]),s.Am.error("Sorry, we couldn't find any movies for that year.")):s.Am.error("That's all the movies we could find for that year.")):(C(!0),h((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),_(e.t0);case 11:return e.prev=11,S(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();e()}}),[M,t]),p)return(0,d.jsx)("p",{children:p.message});for(var F=[],I=(new Date).getFullYear(),q=I;q>=I-50;q--)F.push(q);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(v.Z,{children:(0,d.jsxs)("div",{className:k.selectedWrapper,children:[(0,d.jsxs)("div",{className:k.selectedYear,children:[(0,d.jsx)("label",{className:k.selectLabel,htmlFor:"year-select",children:"Select a year:"}),(0,d.jsxs)("div",{className:k.selectWrapper,children:[(0,d.jsx)(L.ZP,{className:k.select,classNamePrefix:"react-select",name:"year-select",id:"year-select",value:{value:t,label:t},onChange:function(e){return o(e.value)},options:F.map((function(e){return{value:e,label:e}})),placeholder:"Select a year",menuPlacement:"auto"}),(0,d.jsx)("div",{className:k.selectIcon})]})]}),u.length>0?(0,d.jsx)(g.Z,{movies:u}):w?(0,d.jsx)("p",{className:k.loadingMoviesListYear,children:"Loading..."}):(0,d.jsx)("p",{className:k.searchText,children:"Please select a year to see movies."}),z&&(0,d.jsx)(N,{hendleIncrement:function(){T(M+1)}})]})})})};var B=function(){var e=(0,o.TH)();return(0,d.jsxs)("div",{className:_.movieBarWrapper,children:[(0,d.jsxs)("ul",{className:_.movieBarList,children:[(0,d.jsx)("li",{className:_.movieBarListItem,children:(0,d.jsx)(Z.rU,{to:"/movie/actors/",state:{from:e},children:"Actors"})}),(0,d.jsx)("li",{className:_.movieBarListItem,children:(0,d.jsx)(Z.rU,{to:"/movie/top-rated/",state:{from:e},children:"Top Rated"})})]}),(0,d.jsx)("div",{children:(0,d.jsx)(P,{})})]})},M=function(){var e=(0,o.s0)(),n=(0,o.TH)(),t=(0,c.useState)([]),l=(0,a.Z)(t,2),u=l[0],h=l[1],f=(0,c.useState)(""),_=(0,a.Z)(f,2),Z=_[0],b=_[1],y=(0,c.useState)(0),j=(0,a.Z)(y,2),k=j[0],w=j[1],S=(0,c.useState)(!1),N=(0,a.Z)(S,2),L=N[0],P=N[1],M=(0,c.useCallback)((function(e){P(!0),x.Z.fetchSearchMovie(Z,e).then((function(n){0===n.length?(s.Am.error("sorry, that's all the movies we could find"),P(!1)):(h((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(n))})),w(e))})).catch((function(e){s.Am.error("Failed to fetch movies.")}))}),[Z]);(0,c.useEffect)((function(){b(new URLSearchParams(n.search).get("query")),w(1)}),[n.search]),(0,c.useEffect)((function(){Z&&M(1)}),[M,Z]);return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)(v.Z,{children:[(0,d.jsxs)("section",{className:i.searchbar,children:[(0,d.jsx)(m,{onSubmit:function(n){n!==Z&&(h([]),e("?query=".concat(n)))}}),(0,d.jsx)(B,{})]}),(0,d.jsx)("section",{className:i.moviesListSearch,children:u&&(0,d.jsx)(p.Z,{dataLength:u.length,next:function(){M(k+1)},hasMore:L,loader:(0,d.jsx)("p",{children:"Loading..."}),children:(0,d.jsx)(g.Z,{movies:u})})})]})})}},7367:function(e,n,t){var r=t(1243),a="https://api.themoviedb.org/3/",c="f27eea818d2010463700365b0c06a16e";var o={fetchMoviesbyActors:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.Z.get("".concat(a,"person/").concat(e,"/movie_credits?api_key=").concat(c,"&page=").concat(n)).then((function(e){return e.data.cast}))},fetchTrending:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.Z.get("".concat(a,"trending/all/day?api_key=").concat(c,"&page=").concat(e)).then((function(e){return e.data.results}))},fetchSearchMovie:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.Z.get("".concat(a,"search/movie?query=").concat(e,"&api_key=").concat(c,"&page=").concat(n)).then((function(e){return e.data.results}))},fetchMovieDetalis:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"?api_key=").concat(c)).then((function(e){return e.data}))},fetchMovieCredits:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"/credits?api_key=").concat(c)).then((function(e){return e.data}))},fetchMovieReview:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"/reviews?api_key=").concat(c)).then((function(e){return e.data.results}))},fetchTrailerMovies:function(e){return r.Z.get("".concat(a,"movie/").concat(e,"/videos?api_key=").concat(c)).then((function(e){return e.data.results}))},fetchAllgenres:function(){return r.Z.get("".concat(a,"/genre/movie/list?api_key=").concat(c)).then((function(e){return e.data.genres}))},fetchByGenre:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r.Z.get("".concat(a,"/discover/movie?api_key=").concat(c,"&with_genres=").concat(e,"&page=").concat(n)).then((function(e){return e.data}))},fetchActors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=n?"".concat(a,"search/person?api_key=").concat(c,"&page=").concat(e,"&query=").concat(n):"".concat(a,"person/popular?api_key=").concat(c,"&page=").concat(e);return r.Z.get(t).then((function(e){return e.data}))},fetchByYear:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0;return r.Z.get("".concat(a,"discover/movie?api_key=").concat(c,"&sort_by=popularity.desc&page=").concat(e,"&primary_release_year=").concat(n)).then((function(e){return e.data.results}))},fetchExpectedMovies:function(){return r.Z.get("".concat(a,"/movie/upcoming?api_key=").concat(c)).then((function(e){return e.data.results}))},fetchFilmsByRating:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.Z.get("".concat(a,"/movie/top_rated?api_key=").concat(c,"&page=").concat(e)).then((function(e){return e.data}))}};n.Z=o}}]);
//# sourceMappingURL=617.fa8adcca.chunk.js.map