"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[99],{4872:function(n,e,t){t.d(e,{Z:function(){return c}});var o,r=t(168),a=t(4313).ZP.button(o||(o=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 10px;\n  border: 1px solid var(--border-color);\n  width: 200px;\n  height: 50px;\n  background: var(--background-header);\n  color: var(--color);\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  -ms-border-radius: 10px;\n  -o-border-radius: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  transition: color 0.4s;\n  -webkit-transition: color 0.4s;\n  -moz-transition: color 0.4s;\n  -ms-transition: color 0.4s;\n  -o-transition: color 0.4s;\n  cursor: pointer;\n\n  &:hover {\n    background: var(--background-body);\n  }\n\n  @media screen and (max-width: 768px) {\n    width: 150px;\n    height: 50px;\n  }\n"]))),i=t(184),c=function(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(a,{type:"button",children:"\u2190 Go Back"})})}},7099:function(n,e,t){t.r(e),t.d(e,{default:function(){return an}});var o=t(3433),r=t(9439),a=t(8014),i={cast:"MovieDetalis_cast__cUluE",review:"MovieDetalis_review__gmdkb",videoModal:"MovieDetalis_videoModal__nUs6R",iconBackModal:"MovieDetalis_iconBackModal__lydSk"},c=t(9085),s=t(5700),d=t(1087),l=t(7689),p=t(2791),u=t(7367),h=t(9831),f=t(9686),v=t(4872),g=t(4654),x=t(168),m=t(4313);var b,Z,w,y,k,_,j,M,P,z,S,I,N,A,E,C,F,U,B,D,T,L,O=t.p+"static/media/iconfinder-play.7ab5e3455a0847cfdac977e8ffa39ed3.svg",R=m.ZP.div(b||(b=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n"]))),J=m.ZP.div(Z||(Z=(0,x.Z)(["\n  max-width: 50%;\n  padding: 10px;\n"]))),q=m.ZP.img(w||(w=(0,x.Z)(["\n  position: absolute;\n  width: 100%;\n  height: auto;\n  top: -1%;\n  right: -50%;\n  z-index: -1;\n  transform: translate(-50%, 0);\n  opacity: 0.1;\n  /* border: 10px solid var(--color); */\n  border-radius: 10px;\n  -webkit-border-radius: 10px;\n  -moz-border-radius: 10px;\n  -ms-border-radius: 10px;\n  -o-border-radius: 10px;\n  -webkit-transform: translate(-50%, 0);\n  -moz-transform: translate(-50%, 0);\n  -ms-transform: translate(-50%, 0);\n  -o-transform: translate(-50%, 0);\n"]))),G=m.ZP.div(y||(y=(0,x.Z)(["\n  margin-top: 150px;\n\n  @media screen and (max-width: 705px) {\n    margin-top: 190px;\n  }\n\n  @media screen and (max-width: 380px) {\n    margin-top: 230px;\n  }\n"]))),H=(m.ZP.button(k||(k=(0,x.Z)(["\n  background-color: transparent;\n  border: none;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  color: var(--color);\n  margin-top: 10px;\n\n  &:hover {\n    background-color: rgb(243, 165, 21);\n  }\n"]))),m.ZP.img(_||(_=(0,x.Z)(["\n  margin-right: 10px;\n"]))),m.ZP.h1(j||(j=(0,x.Z)(["\n  max-width: 700px;\n  font-size: 70px;\n  text-align: left;\n  color: var(--color);\n  text-shadow: 0 0 1px black;\n  margin-bottom: 10px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 27px;\n  }\n"])))),V=m.ZP.p(M||(M=(0,x.Z)(["\n  font-size: 20px;\n  color: gold;\n  margin-bottom: 10px;\n"]))),W=m.ZP.h2(P||(P=(0,x.Z)(["\n  font-size: 40px;\n  color: var(--color);\n  margin-bottom: 10px;\n\n  @media screen and (max-width: 768px) {\n    font-size: 27px;\n  }\n"]))),Y=m.ZP.p(z||(z=(0,x.Z)(["\n  max-width: 600px;\n  font-size: 20px;\n  color: var(--color);\n  margin-bottom: 10px;\n  text-align: justify;\n\n  @media screen and (max-width: 768px) {\n    font-size: 16px;\n  }\n"]))),K=m.ZP.ul(S||(S=(0,x.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  align-items: center;\n  gap: 10px;\n  color: var(--border-color);\n"]))),Q=m.ZP.div(I||(I=(0,x.Z)(["\n  position: relative;\n  cursor: pointer;\n  max-width: 50%;\n  padding: 10px;\n  border-radius: 10px;\n  overflow: hidden;\n\n  &:hover::before {\n    pointer-events: none;\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(\n      to bottom,\n      rgba(0, 0, 0, 0.2) 0%,\n      rgba(0, 0, 0, 0.7) 100%\n    );\n    transition: all 0.4s;\n  }\n\n  &:hover::after {\n    pointer-events: none;\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    z-index: 10;\n    transform: translate(-50%, -50%);\n    width: 150px;\n    height: 150px;\n    background: url(",") no-repeat center center;\n    background-size: contain;\n    transition: all 0.4s;\n  }\n\n  &:hover .detalisImg {\n    transform: scale(1.1);\n  }\n"])),O),X=m.ZP.img(N||(N=(0,x.Z)(["\n  max-width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: all 0.4s;\n  border-radius: 10px;\n"]))),$=m.ZP.ul(A||(A=(0,x.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  flex-wrap: wrap;\n  gap: 10px;\n  margin-bottom: 20px;\n  margin-top: 20px;\n"]))),nn=(m.ZP.div(E||(E=(0,x.Z)(["\n  font-size: 30px;\n  color: gold;\n  transition: color 0.4s;\n\n  &:hover {\n    color: var(--hover-color-text);\n  }\n"]))),m.ZP.div(C||(C=(0,x.Z)(["\n  font-size: 30px;\n  color: gold;\n  transition: color 0.4s;\n\n  &:hover {\n    color: orange;\n  }\n"]))),m.ZP.div(F||(F=(0,x.Z)(["\n  position: fixed;\n  z-index: 30;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.5);\n"])))),en=(m.ZP.div(U||(U=(0,x.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  height: 500px;\n  width: 1100px;\n  transform: translate(-50%, -50%);\n  background-color: rgba(255, 255, 255, 0.57);\n  border-radius: 3px;\n  box-shadow: 0 0 5px 5px rgba(201, 162, 45, 0.7),\n    inset 0 0 30px 10px rgba(201, 162, 45, 0.7);\n"]))),m.ZP.iframe(B||(B=(0,x.Z)(["\n  width: 100%;\n  height: 100%;\n"]))),m.ZP.div(D||(D=(0,x.Z)(["\n  position: absolute;\n  display: flex;\n  fill: orange;\n  width: 100px;\n  height: 50px;\n  top: 1%;\n  left: 1%;\n  cursor: pointer;\n"]))),m.ZP.button(T||(T=(0,x.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-transform: uppercase;\n  width: 100%;\n  padding: 5px;\n  color: var(--color);\n  font-size: 14px;\n  font-weight: bold;\n  cursor: pointer;\n  background: var(--background-header);\n  border: 1px solid var(--border-color);\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n\n  &:disabled {\n    background: gray;\n    opacity: 0.4;\n  }\n"])))),tn=m.ZP.p(L||(L=(0,x.Z)(["\n  font-size: 10px;\n  color: var(--color);\n  margin-top: 5px;\n"]))),on=t(9434),rn=t(184);var an=function(){var n,e,t=(0,p.useState)([]),x=(0,r.Z)(t,2),m=x[0],b=x[1],Z=(0,p.useState)([]),w=(0,r.Z)(Z,2),y=w[0],k=w[1],_=(0,p.useState)(!1),j=(0,r.Z)(_,2),M=j[0],P=j[1],z=(0,p.useState)(null),S=(0,r.Z)(z,2),I=S[0],N=S[1],A=(0,p.useState)(!1),E=(0,r.Z)(A,2),C=E[0],F=E[1],U=(0,l.UO)().movieId,B=(0,l.TH)(),D=null!==(n=null===(e=B.state)||void 0===e?void 0:e.from)&&void 0!==n?n:"/",T=((0,l.s0)(),(0,on.v9)(g.Z.getIsLoggedIn));function L(){F(!1),N(null),document.body.style.overflow="auto"}(0,p.useEffect)((function(){var n=localStorage.getItem("favorites");n&&k(JSON.parse(n))}),[]),(0,p.useEffect)((function(){P(y.some((function(n){return n.id===m.id})))}),[y,m.id]),(0,p.useEffect)((function(){u.Z.fetchMovieDetalis(U).then((function(n){b(n)})).catch("error")}),[U]),(0,p.useEffect)((function(){return window.addEventListener("keydown",O),function(){window.removeEventListener("keydown",O)}}));var O=function(n){"Escape"===n.code&&L()};return(0,rn.jsx)(rn.Fragment,{children:m&&(0,rn.jsx)("section",{className:i.detalis,children:(0,rn.jsxs)(s.Z,{children:[(0,rn.jsx)(G,{children:(0,rn.jsx)(d.rU,{to:D,children:(0,rn.jsx)(v.Z,{})})}),(0,rn.jsxs)(R,{children:[(0,rn.jsx)(q,{src:m.backdrop_path?"https://image.tmdb.org/t/p/w500/".concat(m.backdrop_path):h,alt:m.title}),(0,rn.jsxs)(J,{children:[(0,rn.jsx)(H,{children:m.title?m.title:"Movie without a title"}),(0,rn.jsxs)(V,{children:["User score: ",(10*m.vote_average).toFixed(0),"%"]}),(0,rn.jsx)(W,{children:"Overview"}),(0,rn.jsx)(Y,{children:m.overview?m.overview:"Movie without a overview"}),(0,rn.jsx)(K,{children:m.genres&&m.genres.map((function(n){var e=n.name,t=n.id;return(0,rn.jsx)("li",{children:e},t)}))}),(0,rn.jsxs)($,{children:[(0,rn.jsx)("li",{className:i.reviewiLstItem,children:(0,rn.jsx)(d.rU,{to:"cast",state:B.state,className:i.cast,children:"Cast"})}),(0,rn.jsx)("li",{className:i.reviewiLstItem,children:(0,rn.jsx)(d.rU,{to:"review",state:B.state,className:i.review,children:"Rewiew"})}),(0,rn.jsxs)("li",{className:i.reviewiLstItem,children:[(0,rn.jsx)(d.rU,{to:"/library",onClick:function(){var n={id:m.id,title:m.title,poster_path:m.poster_path,vote_average:m.vote_average.toFixed(1),release_date:m.release_date.slice(0,4)};if(M){var e=y.filter((function(n){return n.id!==m.id}));k(e),localStorage.setItem("favorites",JSON.stringify(e)),P(!1),c.Am.success("Film removed from the library")}else{var t=[].concat((0,o.Z)(y),[n]);k(t),localStorage.setItem("favorites",JSON.stringify(t)),P(!0),c.Am.success("Film added to the library")}},children:(0,rn.jsx)(en,{disabled:!T,type:"button",children:M?"Remove from library":"Add movie to library"})}),!T&&(0,rn.jsx)(tn,{children:"Register or log in to be able to add a movie to your library"})]})]})]}),(0,rn.jsxs)(Q,{children:[(0,rn.jsx)(X,{src:m.poster_path?"https://image.tmdb.org/t/p/w500/".concat(m.poster_path):h,alt:m.title?m.title:"Movie without a title",width:300,style:{cursor:"pointer"},onClick:function(){u.Z.fetchTrailerMovies(U).then((function(n){var e=n.find((function(n){return"Trailer"===n.type}));e?(N(e.key),F(!0),document.body.style.overflow="hidden"):(F(!1),c.Am.error("No trailer available for this movie."))}))}}),C&&(0,rn.jsxs)(nn,{onClick:function(n){n.currentTarget===n.target&&L()},children:[(0,rn.jsx)(a.lox,{className:i.iconBackModal,onClick:L}),(0,rn.jsx)(f.Z,{className:i.videoModal,videoId:I,opts:{width:"100%",height:"100%",playerVars:{autoplay:1,controls:0,cc_load_policy:0,fs:0,iv_load_policy:0,modestbranding:0,rel:0,showinfo:0},origin:"http://localhost:3000"}})]})]})]}),(0,rn.jsx)(p.Suspense,{children:(0,rn.jsx)(l.j3,{})})]})})})}},7367:function(n,e,t){var o=t(1243),r="https://api.themoviedb.org/3/",a="f27eea818d2010463700365b0c06a16e";var i={fetchMoviesbyActors:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.Z.get("".concat(r,"person/").concat(n,"/movie_credits?api_key=").concat(a,"&page=").concat(e)).then((function(n){return n.data.cast}))},fetchActorInfoAndMovies:function(n){return o.Z.get("".concat(r,"person/").concat(n,"?api_key=").concat(a)).then((function(n){return n.data}))},fetchTrending:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o.Z.get("".concat(r,"trending/all/day?api_key=").concat(a,"&page=").concat(n)).then((function(n){return n.data.results}))},fetchSearchMovie:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.Z.get("".concat(r,"search/movie?query=").concat(n,"&api_key=").concat(a,"&page=").concat(e)).then((function(n){return n.data.results}))},fetchMovieDetalis:function(n){return o.Z.get("".concat(r,"movie/").concat(n,"?api_key=").concat(a)).then((function(n){return n.data}))},fetchMovieCredits:function(n){return o.Z.get("".concat(r,"movie/").concat(n,"/credits?api_key=").concat(a)).then((function(n){return n.data}))},fetchMovieReview:function(n){return o.Z.get("".concat(r,"movie/").concat(n,"/reviews?api_key=").concat(a)).then((function(n){return n.data.results}))},fetchTrailerMovies:function(n){return o.Z.get("".concat(r,"movie/").concat(n,"/videos?api_key=").concat(a)).then((function(n){return n.data.results}))},fetchAllgenres:function(){return o.Z.get("".concat(r,"/genre/movie/list?api_key=").concat(a)).then((function(n){return n.data.genres}))},fetchByGenre:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.Z.get("".concat(r,"/discover/movie?api_key=").concat(a,"&with_genres=").concat(n,"&page=").concat(e)).then((function(n){return n.data}))},fetchActors:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=e?"".concat(r,"search/person?api_key=").concat(a,"&page=").concat(n,"&query=").concat(e):"".concat(r,"person/popular?api_key=").concat(a,"&page=").concat(n);return o.Z.get(t).then((function(n){return n.data}))},fetchByYear:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1?arguments[1]:void 0;return o.Z.get("".concat(r,"discover/movie?api_key=").concat(a,"&sort_by=popularity.desc&page=").concat(n,"&primary_release_year=").concat(e)).then((function(n){return n.data.results}))},fetchExpectedMovies:function(){return o.Z.get("".concat(r,"/movie/upcoming?api_key=").concat(a)).then((function(n){return n.data.results}))},fetchFilmsByRating:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o.Z.get("".concat(r,"/movie/top_rated?api_key=").concat(a,"&page=").concat(n)).then((function(n){return n.data}))},fetchWaitingForTheMovies:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return o.Z.get("".concat(r,"/movie/upcoming?api_key=").concat(a,"&primary_release_date.gte=").concat((new Date).toISOString().slice(0,10),"&page=").concat(n)).then((function(n){return n.data}))}};e.Z=i},9831:function(n,e,t){n.exports=t.p+"static/media/poster.f55d248454cd0ab3bc5b.jpeg"}}]);
//# sourceMappingURL=99.b3eeb2cd.chunk.js.map