"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[287],{4332:function(n,e,r){r.d(e,{Z:function(){return E}});var t,a,o,i,s,c,l,d,u,m,f,h,x,p,g=r(1087),v=r(7689),b="MoviesList_moviesList__P6SP5",Z="MoviesList_moviesItem__r+0sq",j=r(168),w=r(4313),y=w.ZP.div(t||(t=(0,j.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: 100%;\n"]))),k=w.ZP.div(a||(a=(0,j.Z)(["\n  overflow: hidden;\n  margin-bottom: 5px;\n"]))),_=w.ZP.img(o||(o=(0,j.Z)(["\n  max-width: 100%;\n  object-fit: cover;\n  transition: transform 0.4s;\n  -webkit-transition: transform 0.4s;\n  -moz-transition: transform 0.4s;\n  -ms-transition: transform 0.4s;\n  -o-transition: transform 0.4s;\n\n  &:hover {\n    transform: scale(1.1);\n    -webkit-transform: scale(1.1);\n    -moz-transform: scale(1.1);\n    -ms-transform: scale(1.1);\n    -o-transform: scale(1.1);\n  }\n"]))),P=w.ZP.h3(i||(i=(0,j.Z)(["\n  max-width: 300px;\n  color: var(--color);\n  font-size: 14px;\n  margin-bottom: 0;\n  margin-top: auto;\n"]))),S=w.ZP.div(s||(s=(0,j.Z)(["\n  display: flex;\n  align-items: center;\n"]))),L=w.ZP.span(c||(c=(0,j.Z)(["\n  font-size: 10px;\n  color: gold;\n"]))),z=w.ZP.span(l||(l=(0,j.Z)(["\n  font-size: 10px;\n  color: gray;\n"]))),N=w.ZP.p(d||(d=(0,j.Z)(["\n  color: rgb(36, 35, 35);\n  font-size: 10px;\n"]))),B=w.ZP.span(u||(u=(0,j.Z)(["\n  font-size: 8px;\n"]))),A=w.ZP.p(m||(m=(0,j.Z)(["\n  color: red;\n  font-weight: bold;\n  font-size: 12px;\n  margin-left: auto;\n"]))),M=(0,w.iv)(f||(f=(0,j.Z)(["\n  background: #f85032;\n  background: -webkit-linear-gradient(to right, #e73827, #f85032);\n  background: linear-gradient(to right, #e73827, #f85032);\n"]))),T=(0,w.iv)(h||(h=(0,j.Z)(["\n  background: #f7971e;\n  background: -webkit-linear-gradient(to right, #ffd200, #f7971e);\n  background: linear-gradient(to right, #ffd200, #f7971e);\n  color: rgb(36, 35, 35);\n"]))),C=(0,w.iv)(x||(x=(0,j.Z)(["\n  background: #000000;\n  background: -webkit-linear-gradient(to right, #0f9b0f, #000000);\n  background: linear-gradient(to right, #0f9b0f, #000000);\n  color: #fff;\n"]))),I=w.ZP.div(p||(p=(0,j.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border-radius: 50%;\n  width: 10px;\n  height: 10px;\n  padding: 5px;\n  font-weight: bold;\n  margin-left: 10px;\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-red\n  &.rating-red {\n    ","\n  }\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-yellow\n  &.rating-yellow {\n    ","\n  }\n\n  // \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u0442\u0438\u043b\u0438 \u0434\u043b\u044f \u043a\u043b\u0430\u0441\u0441\u0430 rating-green\n  &.rating-green {\n    ","\n  }\n"])),M,T,C),F=r(184);var q=function(n){var e=n.poster_path,r=n.title,t=n.vote_average,a=n.release_date,o=10*t,i=Math.floor(o/10),s=Array.from({length:10},(function(n,e){return e<i?(0,F.jsx)(L,{children:"\u2605"},"star-".concat(e)):(0,F.jsx)(z,{children:"\u2605"},"star-".concat(e))})),c=function(n){return n<=4?"red":n<7?"yellow":"green"}(t),l="rating-".concat(c);return(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)(y,{children:[(0,F.jsx)(k,{children:(0,F.jsx)(_,{src:e?"https://image.tmdb.org/t/p/w500/".concat(e):"https://dummyimage.com/300x450/fff/aaa",alt:r,width:300})}),(0,F.jsx)(P,{children:r||"Movie without a title"}),(0,F.jsxs)(S,{children:[(0,F.jsx)(N,{children:t?s:"N/A"}),(0,F.jsx)(I,{className:l,children:(0,F.jsx)(B,{children:t?t.toFixed(1):"N/A"})}),(0,F.jsx)(A,{children:a?a.slice(0,4):"N/A"})]})]})})};var E=function(n){var e=n.movies,r=(0,v.TH)();return(0,F.jsx)("ul",{className:b,children:e.map((function(n,e){var t=n.id,a=n.poster_path,o=n.title,i=n.vote_average,s=n.release_date;return(0,F.jsx)("li",{className:Z,children:(0,F.jsx)(g.rU,{to:"/movies/".concat(t),state:{from:r},children:(0,F.jsx)(q,{id:t,poster_path:a,title:o,vote_average:i,release_date:s},t)})},"".concat(t,"-").concat(e))}))})}},4287:function(n,e,r){r.r(e),r.d(e,{default:function(){return W}});var t,a,o,i=r(3433),s=r(9439),c=r(2791),l=r(7689),d={searchbar:"MoviePage_searchbar__Hfnpz"},u=r(9085),m=r(168),f=r(4313),h=f.ZP.form(t||(t=(0,m.Z)(["\n  margin-top: 190px;\n  margin-bottom: 10px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  @media screen and (max-width: 705px) {\n    margin-top: 230px;\n  }\n\n  @media screen and (max-width: 380px) {\n    margin-top: 260px;\n  }\n"]))),x=f.ZP.input(a||(a=(0,m.Z)(["\n  box-sizing: border-box;\n  width: 400px;\n  height: 50px;\n  margin-right: 10px;\n  background-color: transparent;\n  border: 1px solid gray;\n  outline: none;\n  color: var(--color);\n  font-size: 18px;\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n  padding: 10px;\n\n  &:focus {\n    border: 1px solid var(--border-color);\n  }\n\n  &::placeholder {\n    color: var(--color);\n    opacity: 0.3;\n  }\n"]))),p=f.ZP.button(o||(o=(0,m.Z)(["\n  width: 100px;\n  height: 50px;\n  background: var(--background-header);\n  border: var(--border-color);\n  color: var(--color);\n  border-radius: 5px;\n  -webkit-border-radius: 5px;\n  -moz-border-radius: 5px;\n  -ms-border-radius: 5px;\n  -o-border-radius: 5px;\n  cursor: pointer;\n\n  &:hover,\n  &:focus {\n    background: var(--background-body);\n  }\n"]))),g=r(184);var v,b,Z,j,w,y,k=function(n){var e=n.onSubmit,r=(0,c.useState)(""),t=(0,s.Z)(r,2),a=t[0],o=t[1];return(0,g.jsxs)(h,{onSubmit:function(n){n.preventDefault(),a?(e(a),o("")):u.Am.error("Please, enter your name movie!")},children:[(0,g.jsx)(x,{name:"query",value:a,type:"text",autoComplete:"off",placeholder:"Enter the movie name",onChange:function(n){o(n.currentTarget.value.toLowerCase().trim())}}),(0,g.jsx)(p,{children:"Search"})]})},_=r(5700),P=r(4332),S=r(4771),L=r(7367),z={movieBarList:"MoviesBar_movieBarList__OTYcq",movieBarListItem:"MoviesBar_movieBarListItem__e8kT6"},N=r(1087),B=r(5861),A=r(4687),M=r.n(A),T=r(6970),C=r(6355),I=(0,f.ZP)(C.huN)(v||(v=(0,m.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  fill: var(--color);\n  margin-left: auto;\n  margin-right: auto;\n  animation: rotate 5s infinite linear;\n  -webkit-animation: rotate 5s infinite linear;\n  @keyframes rotate {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),F=f.ZP.div(b||(b=(0,m.Z)(["\n  width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),q=f.ZP.div(Z||(Z=(0,m.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 20px;\n"]))),E=f.ZP.label(j||(j=(0,m.Z)(["\n  display: block;\n  margin-bottom: 5px;\n  font-size: 1.1rem;\n  color: var(--color);\n"]))),U=(0,f.ZP)(T.ZP)(w||(w=(0,m.Z)(["\n  width: 200px;\n"]))),H=f.ZP.p(y||(y=(0,m.Z)(["\n  color: var(--color);\n  max-width: 290px;\n  margin-left: auto;\n  margin-right: auto;\n  font-size: 14px;\n  text-transform: uppercase;\n  text-align: center;\n  font-weight: bold;\n"]))),Y=r(9973),D=r(5667),O=r(9306);var R=function(){var n=(0,c.useState)(0),e=(0,s.Z)(n,2),r=e[0],t=e[1],a=(0,c.useState)([]),o=(0,s.Z)(a,2),l=o[0],d=o[1],m=(0,c.useState)(null),f=(0,s.Z)(m,2),h=f[0],x=f[1],p=(0,c.useState)(!1),v=(0,s.Z)(p,2),b=v[0],Z=v[1],j=(0,c.useState)(1),w=(0,s.Z)(j,2),y=w[0],k=w[1],S=(0,c.useState)(!1),z=(0,s.Z)(S,2),N=z[0],A=z[1],T=(0,c.useContext)(O.A).selectedLanguage;if((0,c.useEffect)((function(){if(0!==r){var n=function(){var n=(0,B.Z)(M().mark((function n(){var e;return M().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return Z(!0),n.prev=1,n.next=4,L.Z.fetchByYear(y,r,T.iso_639_1);case 4:0===(e=n.sent).length?(A(!1),1===y?(d([]),u.Am.error("Sorry, we couldn't find any movies for that year.")):u.Am.error("That's all the movies we could find for that year.")):(A(!0),d((function(n){return[].concat((0,i.Z)(n),(0,i.Z)(e))}))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),x(n.t0);case 11:return n.prev=11,Z(!1),n.finish(11);case 14:case"end":return n.stop()}}),n,null,[[1,8,11,14]])})));return function(){return n.apply(this,arguments)}}();n()}}),[y,T,r]),h)return(0,g.jsx)("p",{children:h.message});for(var C=[],R=(new Date).getFullYear(),Q=R;Q>=R-50;Q--)C.push(Q);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(_.Z,{children:[(0,g.jsx)(F,{children:(0,g.jsxs)(q,{children:[(0,g.jsx)(E,{htmlFor:"year-select",children:"Select a year:"}),(0,g.jsx)(U,{classNamePrefix:"react-select",name:"year-select",id:"year-select",value:{value:r,label:r},onChange:function(n){return t(n.value)},options:C.map((function(n){return{value:n,label:n}})),placeholder:"Select a year",menuPlacement:"auto"})]})}),l.length>0?(0,g.jsx)(P.Z,{movies:l}):b?(0,g.jsx)(I,{size:50}):(0,g.jsx)(H,{children:"Please select a year to see movies."}),N&&(0,g.jsx)(Y.Z,{hendleIncrement:function(){k(y+1),D.NY.scrollToBottom({duration:2e3,smooth:"easeInOutQuad",offset:.2})}})]})})};var Q=function(){var n=(0,l.TH)();return(0,g.jsxs)("div",{className:z.movieBarWrapper,children:[(0,g.jsxs)("ul",{className:z.movieBarList,children:[(0,g.jsx)("li",{className:z.movieBarListItem,children:(0,g.jsx)(N.rU,{to:"/movie/actors/",state:{from:n},children:"Actors"})}),(0,g.jsx)("li",{className:z.movieBarListItem,children:(0,g.jsx)(N.rU,{to:"/movie/top-rated/",state:{from:n},children:"Top Rated"})}),(0,g.jsx)("li",{className:z.movieBarListItem,children:(0,g.jsx)(N.rU,{to:"/movie/expected-movies/",state:{from:n},children:"Expected Movies"})})]}),(0,g.jsx)("div",{children:(0,g.jsx)(R,{})})]})},W=function(){var n=(0,l.s0)(),e=(0,l.TH)(),r=(0,c.useState)([]),t=(0,s.Z)(r,2),a=t[0],o=t[1],m=(0,c.useState)(""),f=(0,s.Z)(m,2),h=f[0],x=f[1],p=(0,c.useState)(0),v=(0,s.Z)(p,2),b=v[0],Z=v[1],j=(0,c.useState)(!1),w=(0,s.Z)(j,2),y=w[0],z=w[1],N=(0,c.useCallback)((function(n){z(!0),L.Z.fetchSearchMovie(h,n).then((function(e){0===e.length?(u.Am.error("sorry, that's all the movies we could find"),z(!1)):(o((function(n){return[].concat((0,i.Z)(n),(0,i.Z)(e))})),Z(n))})).catch((function(n){u.Am.error("Failed to fetch movies.")}))}),[h]);(0,c.useEffect)((function(){x(new URLSearchParams(e.search).get("query")),Z(1)}),[e.search]),(0,c.useEffect)((function(){h&&N(1)}),[N,h]);return(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(_.Z,{children:[(0,g.jsxs)("section",{className:d.searchbar,children:[(0,g.jsx)(k,{onSubmit:function(e){e!==h&&(o([]),n("?query=".concat(e)))}}),(0,g.jsx)(Q,{})]}),(0,g.jsx)("section",{className:d.moviesListSearch,children:a&&(0,g.jsx)(S.Z,{dataLength:a.length,next:function(){N(b+1)},hasMore:y,loader:(0,g.jsx)("p",{children:"Loading..."}),children:(0,g.jsx)(P.Z,{movies:a})})})]})})}}}]);
//# sourceMappingURL=287.3c0037cf.chunk.js.map